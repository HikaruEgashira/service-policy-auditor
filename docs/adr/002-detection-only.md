# ADR-002: MVPではブロック機能を実装せず検出・可視化のみとする

## Status
Accepted

## Context
CASBの一般的な機能は以下の3つ：
- **Block**: アクセスを遮断
- **Alert**: ユーザーに警告を表示
- **Log**: サイレントに記録

従来のセキュリティツールは「まずブロック、誤検知があれば除外設定」というアプローチが多い。しかしこれには問題がある：

1. **過検知による体験悪化**: 正常なサービスがブロックされると業務が止まる
2. **除外設定の負担**: IT管理者がホワイトリストを管理する必要がある
3. **ユーザーの反発**: 「勝手にブロックされた」という不満

## Decision
MVPでは**ブロック機能を実装しない**。検出とログのみ。

ポリシー設定UIも作らない。まず可視化し、データが溜まった段階で次を考える。

## Rationale

### 「検出→可視化→ポリシー生成」のフロー
1. **検出**: ログインページ、プライバシーポリシー、Session Cookieを検出
2. **可視化**: ユーザーが自分の利用状況を把握
3. **ポリシー生成**: 可視化データから「このサービスは許可/ブロック」を生成

このフローにより：
- ユーザーは自分のデータを見て納得してからポリシーを設定できる
- 過検知が発生しても体験を損ねない（ブロックしないので）
- 「言語化なしでポリシー導入」が実現できる

### 過検知時の自動修復（将来）
ブロック機能を追加した場合、過検知への対処が必要：
1. ブロック後にユーザーが「このサイトは問題ない」とフィードバック
2. 自動的にポリシーを緩和
3. フィードバックデータを収集し、検出ロジックを改善

## Consequences

### Positive
- ユーザー体験を一切損ねない
- セキュリティツールへの抵抗感を軽減
- 可視化データがポリシー設計の根拠になる

### Negative
- 実際のリスク軽減効果は限定的（見えるだけでブロックしない）
- 「セキュリティツール」としての訴求が弱くなる可能性

### Future Work
- ポリシーエンジンの追加（Block/Alert/Log）
- 可視化データからのポリシー自動生成
- 過検知フィードバックによる自動修復
